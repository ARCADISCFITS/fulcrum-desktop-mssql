"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = `
BEGIN TRANSACTION;

DROP VIEW IF EXISTS __VIEW_SCHEMA__.records_view;

CREATE VIEW __VIEW_SCHEMA__.records_view AS
SELECT
  records.row_resource_id AS record_id,
  records.form_resource_id AS form_id,
  forms.name AS form_name,
  records.project_resource_id AS project_id,
  projects.name AS project_name,
  records.assigned_to_resource_id AS assigned_to_id,
  assignment.name AS assigned_to_name,
  records.status AS status,
  records.latitude AS latitude,
  records.longitude AS longitude,
  records.created_at AS created_at,
  records.updated_at AS updated_at,
  records.version AS version,
  records.created_by_resource_id AS created_by_id,
  created_by.name AS created_by_name,
  records.updated_by_resource_id AS updated_by_id,
  updated_by.name AS updated_by_name,
  records.server_created_at AS server_created_at,
  records.server_updated_at AS server_updated_at,
  records.geometry AS geometry,
  records.altitude AS altitude,
  records.speed AS speed,
  records.course AS course,
  records.horizontal_accuracy AS horizontal_accuracy,
  records.vertical_accuracy AS vertical_accuracy,
  records.changeset_resource_id AS changeset_id,
  records.title AS title,
  records.created_latitude AS created_latitude,
  records.created_longitude AS created_longitude,
  records.created_geometry AS created_geometry,
  records.created_altitude AS created_altitude,
  records.created_horizontal_accuracy AS created_horizontal_accuracy,
  records.updated_latitude AS updated_latitude,
  records.updated_longitude AS updated_longitude,
  records.updated_geometry AS updated_geometry,
  records.updated_altitude AS updated_altitude,
  records.updated_horizontal_accuracy AS updated_horizontal_accuracy,
  records.created_duration AS created_duration,
  records.updated_duration AS updated_duration,
  records.edited_duration AS edited_duration
FROM __SCHEMA__.system_records records
LEFT OUTER JOIN __SCHEMA__.system_forms forms ON records.form_id = forms.row_id
LEFT OUTER JOIN __SCHEMA__.system_projects projects ON records.project_id = projects.row_id
LEFT OUTER JOIN __SCHEMA__.system_memberships assignment ON records.assigned_to_id = assignment.row_id
LEFT OUTER JOIN __SCHEMA__.system_memberships created_by ON records.created_by_id = created_by.row_id
LEFT OUTER JOIN __SCHEMA__.system_memberships updated_by ON records.updated_by_id = updated_by.row_id;

INSERT INTO __SCHEMA__.migrations (name) VALUES ('003');

COMMIT TRANSACTION;
`;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3ZlcnNpb24tMDAzLnNxbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztrQkFBZ0IiLCJmaWxlIjoidmVyc2lvbi0wMDMuc3FsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYFxuQkVHSU4gVFJBTlNBQ1RJT047XG5cbkRST1AgVklFVyBJRiBFWElTVFMgX19WSUVXX1NDSEVNQV9fLnJlY29yZHNfdmlldztcblxuQ1JFQVRFIFZJRVcgX19WSUVXX1NDSEVNQV9fLnJlY29yZHNfdmlldyBBU1xuU0VMRUNUXG4gIHJlY29yZHMucm93X3Jlc291cmNlX2lkIEFTIHJlY29yZF9pZCxcbiAgcmVjb3Jkcy5mb3JtX3Jlc291cmNlX2lkIEFTIGZvcm1faWQsXG4gIGZvcm1zLm5hbWUgQVMgZm9ybV9uYW1lLFxuICByZWNvcmRzLnByb2plY3RfcmVzb3VyY2VfaWQgQVMgcHJvamVjdF9pZCxcbiAgcHJvamVjdHMubmFtZSBBUyBwcm9qZWN0X25hbWUsXG4gIHJlY29yZHMuYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQgQVMgYXNzaWduZWRfdG9faWQsXG4gIGFzc2lnbm1lbnQubmFtZSBBUyBhc3NpZ25lZF90b19uYW1lLFxuICByZWNvcmRzLnN0YXR1cyBBUyBzdGF0dXMsXG4gIHJlY29yZHMubGF0aXR1ZGUgQVMgbGF0aXR1ZGUsXG4gIHJlY29yZHMubG9uZ2l0dWRlIEFTIGxvbmdpdHVkZSxcbiAgcmVjb3Jkcy5jcmVhdGVkX2F0IEFTIGNyZWF0ZWRfYXQsXG4gIHJlY29yZHMudXBkYXRlZF9hdCBBUyB1cGRhdGVkX2F0LFxuICByZWNvcmRzLnZlcnNpb24gQVMgdmVyc2lvbixcbiAgcmVjb3Jkcy5jcmVhdGVkX2J5X3Jlc291cmNlX2lkIEFTIGNyZWF0ZWRfYnlfaWQsXG4gIGNyZWF0ZWRfYnkubmFtZSBBUyBjcmVhdGVkX2J5X25hbWUsXG4gIHJlY29yZHMudXBkYXRlZF9ieV9yZXNvdXJjZV9pZCBBUyB1cGRhdGVkX2J5X2lkLFxuICB1cGRhdGVkX2J5Lm5hbWUgQVMgdXBkYXRlZF9ieV9uYW1lLFxuICByZWNvcmRzLnNlcnZlcl9jcmVhdGVkX2F0IEFTIHNlcnZlcl9jcmVhdGVkX2F0LFxuICByZWNvcmRzLnNlcnZlcl91cGRhdGVkX2F0IEFTIHNlcnZlcl91cGRhdGVkX2F0LFxuICByZWNvcmRzLmdlb21ldHJ5IEFTIGdlb21ldHJ5LFxuICByZWNvcmRzLmFsdGl0dWRlIEFTIGFsdGl0dWRlLFxuICByZWNvcmRzLnNwZWVkIEFTIHNwZWVkLFxuICByZWNvcmRzLmNvdXJzZSBBUyBjb3Vyc2UsXG4gIHJlY29yZHMuaG9yaXpvbnRhbF9hY2N1cmFjeSBBUyBob3Jpem9udGFsX2FjY3VyYWN5LFxuICByZWNvcmRzLnZlcnRpY2FsX2FjY3VyYWN5IEFTIHZlcnRpY2FsX2FjY3VyYWN5LFxuICByZWNvcmRzLmNoYW5nZXNldF9yZXNvdXJjZV9pZCBBUyBjaGFuZ2VzZXRfaWQsXG4gIHJlY29yZHMudGl0bGUgQVMgdGl0bGUsXG4gIHJlY29yZHMuY3JlYXRlZF9sYXRpdHVkZSBBUyBjcmVhdGVkX2xhdGl0dWRlLFxuICByZWNvcmRzLmNyZWF0ZWRfbG9uZ2l0dWRlIEFTIGNyZWF0ZWRfbG9uZ2l0dWRlLFxuICByZWNvcmRzLmNyZWF0ZWRfZ2VvbWV0cnkgQVMgY3JlYXRlZF9nZW9tZXRyeSxcbiAgcmVjb3Jkcy5jcmVhdGVkX2FsdGl0dWRlIEFTIGNyZWF0ZWRfYWx0aXR1ZGUsXG4gIHJlY29yZHMuY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5IEFTIGNyZWF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSxcbiAgcmVjb3Jkcy51cGRhdGVkX2xhdGl0dWRlIEFTIHVwZGF0ZWRfbGF0aXR1ZGUsXG4gIHJlY29yZHMudXBkYXRlZF9sb25naXR1ZGUgQVMgdXBkYXRlZF9sb25naXR1ZGUsXG4gIHJlY29yZHMudXBkYXRlZF9nZW9tZXRyeSBBUyB1cGRhdGVkX2dlb21ldHJ5LFxuICByZWNvcmRzLnVwZGF0ZWRfYWx0aXR1ZGUgQVMgdXBkYXRlZF9hbHRpdHVkZSxcbiAgcmVjb3Jkcy51cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgQVMgdXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxuICByZWNvcmRzLmNyZWF0ZWRfZHVyYXRpb24gQVMgY3JlYXRlZF9kdXJhdGlvbixcbiAgcmVjb3Jkcy51cGRhdGVkX2R1cmF0aW9uIEFTIHVwZGF0ZWRfZHVyYXRpb24sXG4gIHJlY29yZHMuZWRpdGVkX2R1cmF0aW9uIEFTIGVkaXRlZF9kdXJhdGlvblxuRlJPTSBfX1NDSEVNQV9fLnN5c3RlbV9yZWNvcmRzIHJlY29yZHNcbkxFRlQgT1VURVIgSk9JTiBfX1NDSEVNQV9fLnN5c3RlbV9mb3JtcyBmb3JtcyBPTiByZWNvcmRzLmZvcm1faWQgPSBmb3Jtcy5yb3dfaWRcbkxFRlQgT1VURVIgSk9JTiBfX1NDSEVNQV9fLnN5c3RlbV9wcm9qZWN0cyBwcm9qZWN0cyBPTiByZWNvcmRzLnByb2plY3RfaWQgPSBwcm9qZWN0cy5yb3dfaWRcbkxFRlQgT1VURVIgSk9JTiBfX1NDSEVNQV9fLnN5c3RlbV9tZW1iZXJzaGlwcyBhc3NpZ25tZW50IE9OIHJlY29yZHMuYXNzaWduZWRfdG9faWQgPSBhc3NpZ25tZW50LnJvd19pZFxuTEVGVCBPVVRFUiBKT0lOIF9fU0NIRU1BX18uc3lzdGVtX21lbWJlcnNoaXBzIGNyZWF0ZWRfYnkgT04gcmVjb3Jkcy5jcmVhdGVkX2J5X2lkID0gY3JlYXRlZF9ieS5yb3dfaWRcbkxFRlQgT1VURVIgSk9JTiBfX1NDSEVNQV9fLnN5c3RlbV9tZW1iZXJzaGlwcyB1cGRhdGVkX2J5IE9OIHJlY29yZHMudXBkYXRlZF9ieV9pZCA9IHVwZGF0ZWRfYnkucm93X2lkO1xuXG5JTlNFUlQgSU5UTyBfX1NDSEVNQV9fLm1pZ3JhdGlvbnMgKG5hbWUpIFZBTFVFUyAoJzAwMycpO1xuXG5DT01NSVQgVFJBTlNBQ1RJT047XG5gO1xuIl19